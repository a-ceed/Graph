<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style type="text/css">

.megabox {
  width: 1000px;
  height: 50px;
  border: 4px double black; 
  position:relative;
}
#box1 {
  width: 80%;
  height: 100%;
  background-color: #180;
  position: absolute;
  bottom: 0px;
}

#box2 {
  width: 1%;
  height: 100%;
  background-color: #180;
  position: absolute;
  bottom: 0px;
}

#box3 {
  width: 1%;
  height: 100%;
  background-color: #180;
  position: absolute;
  bottom: 0px;
}

  </style>

</head>


<body>



<div class="megabox">
    <div id="box1"></div>
</div>

<div class="megabox">
    <div id="box2"></div>
</div>

<div class="megabox">
    <div id="box3"></div>
</div>


<button onclick="play()">Play</button>

<script>
"use strict"

let startstatic1 = box1.style.width = 70 + '%';
let startstatic2 = box2.style.width = 40 + '%';
let startstatic3 = box3.style.width = 0 + '%';

let numstatic1;
let numstatic2;
let numstatic3;

let endstatic1;
let endstatic2;
let endstatic3;


function progress() {


  startstatic1 = box1.style.width; //узнаем текущую ширину в %
  numstatic1 = startstatic1.slice(-3, -1) //отрезаем проценты
  endstatic1 = Number(numstatic1)  -1; //превращаем в число и прибавляем 1
  box1.style.width = endstatic1 + '%'; //записываем в стиль число + %

  
  startstatic3 = box3.style.width;  //узнаем текущую ширину в %
  numstatic3 = startstatic3.slice(-3, -1) //отрезаем проценты
  endstatic3 = Number(numstatic3)  +1; //превращаем в число и прибавляем 1
  box3.style.width = endstatic3 + '%'; //записываем в стиль число + %

}


function play () {


  if (startstatic1.slice(-3, -1) > 0) {



setInterval(progress, 100);

  }

  else {
alert('stop2')
  }

}


  </script>



</body>
</html>